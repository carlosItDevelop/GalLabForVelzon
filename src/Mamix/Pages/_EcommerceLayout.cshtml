@using Microsoft.AspNetCore.Components.Web
@namespace mamix.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@inject Microsoft.AspNetCore.Components.NavigationManager NavigationManager // This line is used to generate URLs dynamically //
@inject StateService stateService
@using System.Text.Json;
@{ 
    var appState = stateService.GetAppState();

}

<!DOCTYPE html> 
<html lang="en" data-nav-layout="horizontal" data-nav-style="menu-hover" data-menu-position="fixed" data-toggled="close"
    @if (!string.IsNullOrEmpty(appState?.Direction))
    {
        <text>dir="@appState.Direction"</text>
    }
    @if (!string.IsNullOrEmpty(appState?.ColorTheme))
    {
        <text>data-theme-mode="@appState.ColorTheme"</text>
    }
    @if (!string.IsNullOrEmpty(appState?.ThemePrimary))
    {
        <text> style="--primary-rgb: @appState.ThemePrimary;"</text>
    }>

    <head>

        <!-- Meta Data -->
		<meta charset="UTF-8">
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="Description" content="Mamix - Blazor Server App Bootstrap5 Premium Admin & Dashboard Template">
        <meta name="Author" content="Spruko Technologies Private Limited">
        <meta name="keywords" content="blazor c#, admin dashboard template, admin theme, template dashboard, admin, dashboard template bootstrap, admin dashboard, dashboard, blazor server, bootstrap dashboard, bootstrap admin, dashboard, bootstrap admin themes, c# blazor, bootstrap blazor">

        <!-- TITLE -->
        <title> Mamix - Blazor Server App Bootstrap5 Premium Admin & Dashboard Template </title>

        <!-- FAVICON -->
        <link rel="icon" href="@($"{NavigationManager.BaseUri}assets/images/brand-logos/favicon.ico")" type="image/x-icon">

        <!-- Style Css -->
        <link href="@($"{NavigationManager.BaseUri}assets/css/styles.css")" rel="stylesheet" >
        
        <!-- ICONS CSS -->
        <link href="@($"{NavigationManager.BaseUri}assets/css/icons.css")" rel="stylesheet">

        <!-- node waves CSS -->
        <link rel="stylesheet" href="@($"{NavigationManager.BaseUri}assets/libs/node-waves/waves.min.css")">

        <!-- Tom Select CSS -->
        <link rel="stylesheet" href="@($"{NavigationManager.BaseUri}assets/libs/tom-select/css/tom-select.bootstrap5.min.css")">

        <!-- ColorPicker CSS -->
        <link href="_content/BlazorColorPicker/colorpicker.css" rel="stylesheet" />
        <link href="_content/BlazorColorPicker/BlazorColorPicker.bundle.scp.css" rel="stylesheet" />
        
        <component type="typeof(HeadOutlet)" render-mode="ServerPrerendered" />

	</head>

    <body class="landing-body ecommerce-landing">

        @RenderBody()

        <!-- SCRIPTS -->

        <!-- POPPER JS -->
        <script src="@($"{NavigationManager.BaseUri}assets/libs/@popperjs/core/umd/popper.min.js")"></script>

        <!-- BOOTSTRAP JS -->
        <script src="@($"{NavigationManager.BaseUri}assets/libs/bootstrap/js/bootstrap.bundle.min.js")"></script>

        <!-- node-waves JS -->
        <script src="@($"{NavigationManager.BaseUri}assets/libs/node-waves/waves.min.js")"></script>

        <!-- TomSelect JS -->
        <script src="@($"{NavigationManager.BaseUri}assets/libs/tom-select/js/tom-select.complete.min.js")"></script>

        <script>
            // Load scripts after DOM content is loaded
            document.addEventListener("DOMContentLoaded", function () {
                var scriptUrls = [

                    "_content/NoUiSlider.Blazor/dist/bundle.js",

                    "../assets/libs/filepond/filepond.min.js",
                    "../assets/libs/filepond-plugin-image-preview/filepond-plugin-image-preview.min.js",
                    "../assets/libs/filepond-plugin-image-exif-orientation/filepond-plugin-image-exif-orientation.min.js",
                    "../assets/libs/filepond-plugin-file-validate-size/filepond-plugin-file-validate-size.min.js",
                    "../assets/libs/filepond-plugin-file-encode/filepond-plugin-file-encode.min.js",
                    "../assets/libs/filepond-plugin-image-edit/filepond-plugin-image-edit.min.js",
                    "../assets/libs/filepond-plugin-file-validate-type/filepond-plugin-file-validate-type.min.js",
                    "../assets/libs/filepond-plugin-file-validate-type/filepond-plugin-file-validate-type.min.js",
                    "../assets/libs/filepond-plugin-image-crop/filepond-plugin-image-crop.min.js",
                    "../assets/libs/filepond-plugin-image-resize/filepond-plugin-image-resize.min.js",
                    "../assets/libs/filepond-plugin-image-transform/filepond-plugin-image-transform.min.js",
                    "../assets/libs/dropzone/dropzone-min.js",
                    "../assets/libs/glightbox/js/glightbox.min.js",
                    "../assets/libs/quill/quill.js",
                    "../assets/libs/jsvectormap/jsvectormap.min.js",
                    "../assets/libs/dragula/dragula.min.js",
                    
                ];
                scriptUrls.forEach(function (url) {
                    var script = document.createElement("script");
                    script.src = url;
                    document.body.appendChild(script);
                });
            });
        </script>

        <!-- END SCRIPTS -->

        <script src="_framework/blazor.server.js"></script>
        <script src="js/javaScriptInterop.js"></script>
        <script src="js/resizeInterop.js"></script>
        <script src="js/scrollHandler.js"></script>

	</body>
</html>
